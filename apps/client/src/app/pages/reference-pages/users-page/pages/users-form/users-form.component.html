<mnr-crm-back-nav
    class="tui-space_bottom-8"
    (click)="back()"
></mnr-crm-back-nav>

<form [formGroup]="form">
    <div class="tui-row tui-row_adaptive">
        <div class="tui-col_lg-6 tui-col_md-8 tui-col_xs-12">
            <h3 class="tui-form__header tui-form__header_margin-top_none">Заполните форму</h3>
            <div class="tui-form__row" *ngIf="!isStorekeeper">
                <tui-input
                    formControlName="username"
                >
                    Имя пользователя
                    <span class="tui-required"></span>
                </tui-input>
                <tui-error
                    formControlName="username"
                    [error]="[] | tuiFieldError | async"
                ></tui-error>
            </div>

            <div class="tui-form__row" *ngIf="!isStorekeeper">
                <tui-input
                    formControlName="password"
                >
                    Пароль
                    <span class="tui-required"></span>
                </tui-input>
                <tui-error
                    formControlName="password"
                    [error]="[] | tuiFieldError | async"
                ></tui-error>
            </div>

            <div class="tui-form__row">
                <tui-input
                    formControlName="fio"
                >
                    ФИО
                    <span class="tui-required"></span>
                </tui-input>
                <tui-error
                    formControlName="fio"
                    [error]="[] | tuiFieldError | async"
                ></tui-error>
            </div>

            <div class="tui-form__row">
                <tui-input-phone formControlName="phone" *ngIf="!isStorekeeper">
                    Телефон
                    <span class="tui-required"></span>
                    <input
                        tuiTextfield
                        autocomplete="tel"
                    />
                </tui-input-phone>
                <tui-error
                    formControlName="phone"
                    [error]="[] | tuiFieldError | async"
                ></tui-error>
            </div>

            <div class="tui-form__row" *ngIf="!isStorekeeper">
                <tui-input
                    formControlName="mail"
                >
                    Почта
                    <span class="tui-required"></span>
                </tui-input>
                <tui-error
                    formControlName="mail"
                    [error]="[] | tuiFieldError | async"
                ></tui-error>
            </div>

            <tui-select
                class="tui-form__row"
                [tuiTextfieldLabelOutside]="true"
                formControlName="role"
                [valueContent]="stringifyRole(rolesReference)"
            >
                Выберите роль
                <span class="tui-required"></span>
                <ng-template tuiDataList>
                    <tui-data-list>
                        <button
                            *ngFor="let item of rolesReference"
                            tuiOption
                            [value]="item.type"
                        >
                            {{ item.label }}
                        </button>
                    </tui-data-list>
                </ng-template>
            </tui-select>

            <div class="tui-form__buttons">
                <button
                    tuiButton
                    size="l"
                    type="submit"
                    class="tui-form__button"
                    (click)="submit()"
                >
                    Подтвердить
                </button>
                <button
                    tuiButton
                    type="button"
                    appearance="flat"
                    size="l"
                    class="tui-form__button"
                    (click)="back()"
                >
                    Отмена
                </button>
            </div>
        </div>
    </div>
</form>
